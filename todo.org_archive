#    -*- mode: org -*-


Archived entries from file /Users/serge/work/codeng/todo.org


* [X] Add TUI message plumbing to UIServer
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:06
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Add state to UIServer - first message sent to idle state should start the workflow
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:07
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Stream log messages/errors to client. Figure out general startup sequencing and error handling.
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:07
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Fix logging - have a special buffer and a way to see logs at will
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:07
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Rethink tool step handling. Make it easier for UI to understand the tool execution state
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:07
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Create Step renderer in TUI client
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:07
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Add input request stack to TUI
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:07
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Set input header depending on the top of the input stack
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:07
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Fix APPROVE/DECLINE rendering
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:07
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Do not pad lines with spaces - it breaks copy-paste
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:07
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Add history editing mode
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:07
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:
** [X] Stopped runner getting a text message is resumed and last user input is replaced with whatever it typed
** [X] Add a away to visually select previous continuation point

* [X] Create TUI library of special characters
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:07
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:
** [X] Icons by name, ASCII fallback vs unicode
** [X] Automatic detection of correct fonts (how? setting?)
** [X] Use icons from library instead of hard-coded values

* [X] Fix knowlt summary documentation generation - it adds python docstring twice
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:08
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Implement tool call formatters
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:08
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:
** [X] Add visual identation for tool calls
** [X] Get rid of emojis for statuses, use unicode or ascii symbols
** [X] Generic formatter to have line-mode
** [X] Better list formatting (comma-separated without parenthesis)
** [X] Long list display

* [X] Ensure that all auto-complete logic happens on backend
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:08
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General/Change auto-complete protocol to also send back cursor position with list of complete options
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:
- Rules should offer auto-completion, even if there's space. Such as for /run chat command

* [X] This should remove /run hack from UIState
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:08
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General/Change auto-complete protocol to also send back cursor position with list of complete options
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Fix autocomplete logic for /run - shift+enter should submit instead of accepting auto-complete.
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:08
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General/Change auto-complete protocol to also send back cursor position with list of complete options
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Don't show auto-complete if option exactly matches
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:08
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General/Change auto-complete protocol to also send back cursor position with list of complete options
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] LLM usage stats
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:08
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:
** [X] Per-node reporting (current limits)
** [X] Per-session accumulation
** [X] Display in the toolbar

* [X] Child runner support
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:08
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:
** [X] Base implementation
** [X] Stopping child runner and resuming

* [X] Store thought signatures for Gemini models
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:08
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General/Gemini 3 support
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Investigate why we're printing thinking process
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:08
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General/Gemini 3 support
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Store raw responses (or signatures) along with step state messages. Use stored responses when generating chat history over raw messages.
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:08
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General/Gemini 3 support
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Add tool support by checking if complete step was received and it contains tool calls
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: Runner
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Create a separate BaseModel for runner generator responses, do not use Step. Convert response to a step.
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: Runner
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Tool rejection might include a message - pass that as a tool response
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: Runner
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Add is_complete to Step to differentiate between intermediate and final results
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: Runner
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Extend PROMPT Step to have mode (message, approval, etc)
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: Runner
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Migrate tools
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Migrate nodes
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] History support
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: UI
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:
- on_history_up, on_history_down events
- history in UIState
- on_submit in UIState forwarded to app.py

* [X] Command handler
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: UI
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Auto-complete support
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: UI
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Add toolbar component under input
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: UI
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:
** [X] Add execution status + animation

* [X] Add animation for different tool call statuses and indicators (approved, canceled, etc)
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: UI
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Create an in-memory bidirectional communication channel
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: UI
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Refactor apply_style
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: UI/TUI library
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Add on_cancel (esc) to SelectList event. Figure out how to handle esc, as it is conflicts with special sequences
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: UI/TUI library
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Remove padding from SelectList
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: UI/TUI library
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Add animation support, potentially via Rich Live
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: UI/TUI library
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Internal state support
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: LLM Node
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Refactor tool registration
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: Tools
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Store UI sessions?
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: Log management
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Gemini does not really do a good job explaining tool calls
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: System prompts/Discovery
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Gemini plan for architect is too long
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: System prompts/Discovery
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Make knowlt have compact ids, not uuids.
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Add leader key (ctrl+x) that shows submenu and intercepts second keypress
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 12:09
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General/Add collapse/expand for components
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Optimize Terminal renderer
:PROPERTIES:
:ARCHIVE_TIME: 2026-01-18 Sun 19:27
:ARCHIVE_FILE: ~/work/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:
- Do not force re-render when component is added or removed

* [X] Make replace-last-message also emit step removals to UI
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:15
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General/Improve history editing:
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Update tool formatter to also signal that no completion confirmation needs to be displayed. Hide it for task tool.
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:15
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Change menu shortcut to ctrl+space
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:15
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Fix apply_patch result formatter to not be JSON
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:15
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Why do we have a lag when we approve a tool call? Is knowlt blocking the main thread?
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:15
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:
** [X] Store last project refresh timestamp on a project. Use timestamp to cull files to be tested before even running DuckDB query. Add a flag to control behavior and disable pre-filtering on bad filesystems.
** [X] Instead of getting all files at once - batch them in 100 and process batches independently.
** [X] Fix comparison to be greater than
** [X] Move glob and path filtering to a thread, as well as timestamp check

* [X] Patch tool needs its own formatter
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:15
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Streaming start timeout, None = unlimited
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:15
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General/Add LLM timeouts
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] If LLM times out, retry attempt
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:15
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General/Add LLM timeouts
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Total timeout, None = unlimited
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:15
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General/Add LLM timeouts
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Show how run the step is running in the toolbar. Store step creation time and show delte to current time for running status
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:15
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Pressing down with no history should select first item of auto-complete
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:15
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General/Auto-complete
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Pressing up going through the history and when auto-complete is displayed, pressing up should continue the history navigation? Or prevent showing auto-complete list for the current word if cursor is not at the end of it
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:15
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General/Auto-complete
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Fix viewer pane
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:15
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:
** [X] Fix jerkiness on key press
** [X] Add top/bottom hotkeys
** [X] Start at the bottom always

* [X] Tab with open auto-complete list, but no selection should select first item, but not auto-complete
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General/Auto-complete
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Tab with single value in the list should auto-select the value
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General/Auto-complete
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Send LLM stats in tool call rounds as well
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Add support for edge-level state policy override
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Fix componentÂ addition/removal for help
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Rework tooltip
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Benchmark slow apply_patch on Windows
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Fix rendering full lines - it seems like we're adding delete till end even if line takes whole screen
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Current context window usage (input) is showing accumulated number instead of last step number
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Unicode support is wonky - write tests for patches using utf-8
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Never collapse tool output if approval is requested?
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Add support for RateLimit exception with correct timeout
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Emit LLM usage when tool call steps are returned from LLM executor
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Improve history editing:
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Add LLM timeouts
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Disable knowlt
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General/Non-interactive mode
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Terminal resize does not re-render all components correctly
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Allow changing variables at runtime via str-like object that's recalculated
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General/Add dynamic variable support that's calculated at runtime
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Animation stops after showing/hiding toolbar component
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Add hidden flag to components to prevent components from being removed from the bottom
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] When inserting component to a specific position, skip deleted items.
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] ctrl+x followed by c when everything is collapsed prints a line to output for some reason and breaks rendering
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:
- Caused by race condition - component already exists, but is marked as deleted.

* [X] Make input component support internal scrolling
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General/Fix tall input component logic
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Cap input component height to 70% of the screen
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General/Fix tall input component logic
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Make sure that autocomplete does not interfere with history up
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General/Autocomplete
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Add node visible flag - some are technical and should be hidden from the UI/autocompletion
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 11:16
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:

* [X] Editing the history message does not re-send it to UI
:PROPERTIES:
:ARCHIVE_TIME: 2026-02-16 Mon 13:31
:ARCHIVE_FILE: ~/work/misc/codeng/todo.org
:ARCHIVE_OLPATH: General
:ARCHIVE_CATEGORY: todo
:ARCHIVE_TODO: [X]
:END:
